!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/cdk/scrolling"),require("@angular/common"),require("primeng/api"),require("primeng/utils"),require("primeng/dom"),require("primeng/ripple")):"function"==typeof define&&define.amd?define("primeng/tree",["exports","@angular/core","@angular/cdk/scrolling","@angular/common","primeng/api","primeng/utils","primeng/dom","primeng/ripple"],t):t(((e=e||self).primeng=e.primeng||{},e.primeng.tree={}),e.ng.core,e.ng.cdk.scrolling,e.ng.common,e.primeng.api,e.primeng.utils,e.primeng.dom,e.primeng.ripple)}(this,(function(e,t,n,o,r,i,l,a){"use strict";var d=this&&this.__assign||function(){return(d=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return l},c=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e},h=function(){function e(e){this.tree=e}return e.prototype.ngOnInit=function(){this.node.parent=this.parentNode,this.parentNode&&this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value))},e.prototype.getIcon=function(){var t;return t=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children.length?this.node.expandedIcon:this.node.collapsedIcon,e.ICON_CLASS+" "+t},e.prototype.isLeaf=function(){return this.tree.isNodeLeaf(this.node)},e.prototype.toggle=function(e){this.node.expanded?this.collapse(e):this.expand(e)},e.prototype.expand=function(e){this.node.expanded=!0,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeExpand.emit({originalEvent:e,node:this.node})},e.prototype.collapse=function(e){this.node.expanded=!1,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeCollapse.emit({originalEvent:e,node:this.node})},e.prototype.onNodeClick=function(e){this.tree.onNodeClick(e,this.node)},e.prototype.onNodeKeydown=function(e){13===e.which&&this.tree.onNodeClick(e,this.node)},e.prototype.onNodeTouchEnd=function(){this.tree.onNodeTouchEnd()},e.prototype.onNodeRightClick=function(e){this.tree.onNodeRightClick(e,this.node)},e.prototype.isSelected=function(){return this.tree.isSelected(this.node)},e.prototype.onDropPoint=function(e,t){var n=this;e.preventDefault();var o=this.tree.dragNode,r=this.tree.dragNodeIndex,i=this.tree.dragNodeScope,l=this.tree.dragNodeTree!==this.tree||(1===t||r!==this.index-1);if(this.tree.allowDrop(o,this.node,i)&&l){var a=d({},this.createDropPointEventMetadata(t));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:o,dropNode:this.node,dropIndex:this.index,accept:function(){n.processPointDrop(a)}}):(this.processPointDrop(a),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:o,dropNode:this.node,dropIndex:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1},e.prototype.processPointDrop=function(e){var t=e.dropNode.parent?e.dropNode.parent.children:this.tree.value;e.dragNodeSubNodes.splice(e.dragNodeIndex,1);var n=this.index;e.position<0?(n=e.dragNodeSubNodes===t?e.dragNodeIndex>e.index?e.index:e.index-1:e.index,t.splice(n,0,e.dragNode)):(n=t.length,t.push(e.dragNode)),this.tree.dragDropService.stopDrag({node:e.dragNode,subNodes:e.dropNode.parent?e.dropNode.parent.children:this.tree.value,index:e.dragNodeIndex})},e.prototype.createDropPointEventMetadata=function(e){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:e}},e.prototype.onDropPointDragOver=function(e){e.dataTransfer.dropEffect="move",e.preventDefault()},e.prototype.onDropPointDragEnter=function(e,t){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(t<0?this.draghoverPrev=!0:this.draghoverNext=!0)},e.prototype.onDropPointDragLeave=function(e){this.draghoverPrev=!1,this.draghoverNext=!1},e.prototype.onDragStart=function(e){this.tree.draggableNodes&&!1!==this.node.draggable?(e.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):e.preventDefault()},e.prototype.onDragStop=function(e){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index})},e.prototype.onDropNodeDragOver=function(e){e.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(e.preventDefault(),e.stopPropagation())},e.prototype.onDropNode=function(e){var t=this;if(this.tree.droppableNodes&&!1!==this.node.droppable){e.preventDefault(),e.stopPropagation();var n=this.tree.dragNode;if(this.tree.allowDrop(n,this.node,this.tree.dragNodeScope)){var o=d({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:n,dropNode:this.node,index:this.index,accept:function(){t.processNodeDrop(o)}}):(this.processNodeDrop(o),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:n,dropNode:this.node,index:this.index}))}}this.draghoverNode=!1},e.prototype.createDropNodeEventMetadata=function(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}},e.prototype.processNodeDrop=function(e){var t=e.dragNodeIndex;e.dragNodeSubNodes.splice(t,1),e.dropNode.children?e.dropNode.children.push(e.dragNode):e.dropNode.children=[e.dragNode],this.tree.dragDropService.stopDrag({node:e.dragNode,subNodes:e.dropNode.parent?e.dropNode.parent.children:this.tree.value,index:t})},e.prototype.onDropNodeDragEnter=function(e){this.tree.droppableNodes&&!1!==this.node.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)},e.prototype.onDropNodeDragLeave=function(e){if(this.tree.droppableNodes){var t=e.currentTarget.getBoundingClientRect();(e.x>t.left+t.width||e.x<t.left||e.y>=Math.floor(t.top+t.height)||e.y<t.top)&&(this.draghoverNode=!1)}},e.prototype.onKeyDown=function(e){var t=e.target.parentElement.parentElement;if("P-TREENODE"===t.nodeName)switch(e.which){case 40:var n=this.tree.droppableNodes?t.children[1].children[1]:t.children[0].children[1];if(n&&n.children.length>0)this.focusNode(n.children[0]);else{var o=t.nextElementSibling;if(o)this.focusNode(o);else{var r=this.findNextSiblingOfAncestor(t);r&&this.focusNode(r)}}e.preventDefault();break;case 38:if(t.previousElementSibling)this.focusNode(this.findLastVisibleDescendant(t.previousElementSibling));else(i=this.getParentNodeElement(t))&&this.focusNode(i);e.preventDefault();break;case 39:this.node.expanded||this.tree.isNodeLeaf(this.node)||this.expand(e),e.preventDefault();break;case 37:var i;if(this.node.expanded)this.collapse(e);else(i=this.getParentNodeElement(t))&&this.focusNode(i);e.preventDefault();break;case 13:this.tree.onNodeClick(e,this.node),e.preventDefault()}},e.prototype.findNextSiblingOfAncestor=function(e){var t=this.getParentNodeElement(e);return t?t.nextElementSibling?t.nextElementSibling:this.findNextSiblingOfAncestor(t):null},e.prototype.findLastVisibleDescendant=function(e){var t=Array.from(e.children).find((function(e){return l.DomHandler.hasClass(e,"p-treenode")})).children[1];if(t&&t.children.length>0){var n=t.children[t.children.length-1];return this.findLastVisibleDescendant(n)}return e},e.prototype.getParentNodeElement=function(e){var t=e.parentElement.parentElement.parentElement;return"P-TREENODE"===t.tagName?t:null},e.prototype.focusNode=function(e){this.tree.droppableNodes?e.children[1].children[0].focus():e.children[0].children[0].focus()},e.ICON_CLASS="p-treenode-icon ",e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[t.forwardRef((function(){return g}))]}]}]},e.decorators=[{type:t.Component,args:[{selector:"p-treeNode",template:'\n        <ng-template [ngIf]="node">\n            <li *ngIf="tree.droppableNodes" class="p-treenode-droppoint" [ngClass]="{\'p-treenode-droppoint-active\':draghoverPrev}"\n            (drop)="onDropPoint($event,-1)" (dragover)="onDropPointDragOver($event)" (dragenter)="onDropPointDragEnter($event,-1)" (dragleave)="onDropPointDragLeave($event)"></li>\n            <li *ngIf="!tree.horizontal" role="treeitem" [ngClass]="[\'p-treenode\',node.styleClass||\'\', isLeaf() ? \'p-treenode-leaf\': \'\']">\n                <div class="p-treenode-content" (click)="onNodeClick($event)" (contextmenu)="onNodeRightClick($event)" (touchend)="onNodeTouchEnd()"\n                    (drop)="onDropNode($event)" (dragover)="onDropNodeDragOver($event)" (dragenter)="onDropNodeDragEnter($event)" (dragleave)="onDropNodeDragLeave($event)"\n                    [draggable]="tree.draggableNodes" (dragstart)="onDragStart($event)" (dragend)="onDragStop($event)" [attr.tabindex]="0"\n                    [ngClass]="{\'p-treenode-selectable\':tree.selectionMode && node.selectable !== false,\'p-treenode-dragover\':draghoverNode, \'p-highlight\':isSelected()}"\n                    (keydown)="onKeyDown($event)" [attr.aria-posinset]="this.index + 1" [attr.aria-expanded]="this.node.expanded" [attr.aria-selected]="isSelected()" [attr.aria-label]="node.label">\n                    <button type="button" class="p-tree-toggler p-link" (click)="toggle($event)" pRipple>\n                        <span class="p-tree-toggler-icon pi pi-fw" [ngClass]="{\'pi-chevron-right\':!node.expanded,\'pi-chevron-down\':node.expanded}"></span>\n                    </button>\n                    <div class="p-checkbox p-component" *ngIf="tree.selectionMode == \'checkbox\'" [attr.aria-checked]="isSelected()">\n                        <div class="p-checkbox-box" [ngClass]="{\'p-highlight\': isSelected(), \'p-indeterminate\': node.partialSelected}">\n                            <span class="p-checkbox-icon pi" [ngClass]="{\'pi-check\':isSelected(),\'pi-minus\':node.partialSelected}"></span>\n                        </div>\n                    </div>\n                    <span [class]="getIcon()" *ngIf="node.icon||node.expandedIcon||node.collapsedIcon"></span>\n                    <span class="p-treenode-label">\n                            <span *ngIf="!tree.getTemplateForNode(node)">{{node.label}}</span>\n                            <span *ngIf="tree.getTemplateForNode(node)">\n                                <ng-container *ngTemplateOutlet="tree.getTemplateForNode(node); context: {$implicit: node}"></ng-container>\n                            </span>\n                    </span>\n                </div>\n                <ul class="p-treenode-children" style="display: none;" *ngIf="!tree.virtualScroll && node.children && node.expanded" [style.display]="node.expanded ? \'block\' : \'none\'" role="group">\n                    <p-treeNode *ngFor="let childNode of node.children;let firstChild=first;let lastChild=last; let index=index; trackBy: tree.trackBy" [node]="childNode" [parentNode]="node"\n                        [firstChild]="firstChild" [lastChild]="lastChild" [index]="index" [style.height.px]="tree.virtualNodeHeight" [level]="level + 1"></p-treeNode>\n                </ul>\n            </li>\n            <li *ngIf="tree.droppableNodes&&lastChild" class="p-treenode-droppoint" [ngClass]="{\'p-treenode-droppoint-active\':draghoverNext}"\n            (drop)="onDropPoint($event,1)" (dragover)="onDropPointDragOver($event)" (dragenter)="onDropPointDragEnter($event,1)" (dragleave)="onDropPointDragLeave($event)"></li>\n            <table *ngIf="tree.horizontal" [class]="node.styleClass">\n                <tbody>\n                    <tr>\n                        <td class="p-treenode-connector" *ngIf="!root">\n                            <table class="p-treenode-connector-table">\n                                <tbody>\n                                    <tr>\n                                        <td [ngClass]="{\'p-treenode-connector-line\':!firstChild}"></td>\n                                    </tr>\n                                    <tr>\n                                        <td [ngClass]="{\'p-treenode-connector-line\':!lastChild}"></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </td>\n                        <td class="p-treenode" [ngClass]="{\'p-treenode-collapsed\':!node.expanded}">\n                            <div class="p-treenode-content" tabindex="0" [ngClass]="{\'p-treenode-selectable\':tree.selectionMode,\'p-highlight\':isSelected()}" (click)="onNodeClick($event)" (contextmenu)="onNodeRightClick($event)"\n                                (touchend)="onNodeTouchEnd()" (keydown)="onNodeKeydown($event)">\n                                <span class="p-tree-toggler pi pi-fw" [ngClass]="{\'pi-plus\':!node.expanded,\'pi-minus\':node.expanded}" *ngIf="!isLeaf()" (click)="toggle($event)"></span>\n                                <span [class]="getIcon()" *ngIf="node.icon||node.expandedIcon||node.collapsedIcon"></span>\n                                <span class="p-treenode-label">\n                                    <span *ngIf="!tree.getTemplateForNode(node)">{{node.label}}</span>\n                                    <span *ngIf="tree.getTemplateForNode(node)">\n                                        <ng-container *ngTemplateOutlet="tree.getTemplateForNode(node); context: {$implicit: node}"></ng-container>\n                                    </span>\n                                </span>\n                            </div>\n                        </td>\n                        <td class="p-treenode-children-container" *ngIf="node.children && node.expanded" [style.display]="node.expanded ? \'table-cell\' : \'none\'">\n                            <div class="p-treenode-children">\n                                <p-treeNode *ngFor="let childNode of node.children;let firstChild=first;let lastChild=last; trackBy: tree.trackBy" [node]="childNode"\n                                        [firstChild]="firstChild" [lastChild]="lastChild"></p-treeNode>\n                            </div>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </ng-template>\n    ',encapsulation:t.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[t.forwardRef((function(){return g}))]}]}]},e.propDecorators={rowNode:[{type:t.Input}],node:[{type:t.Input}],parentNode:[{type:t.Input}],root:[{type:t.Input}],index:[{type:t.Input}],firstChild:[{type:t.Input}],lastChild:[{type:t.Input}],level:[{type:t.Input}]},e}(),g=function(){function e(e,n){this.el=e,this.dragDropService=n,this.selectionChange=new t.EventEmitter,this.onNodeSelect=new t.EventEmitter,this.onNodeUnselect=new t.EventEmitter,this.onNodeExpand=new t.EventEmitter,this.onNodeCollapse=new t.EventEmitter,this.onNodeContextMenuSelect=new t.EventEmitter,this.onNodeDrop=new t.EventEmitter,this.layout="vertical",this.metaKeySelection=!0,this.propagateSelectionUp=!0,this.propagateSelectionDown=!0,this.loadingIcon="pi pi-spinner",this.emptyMessage="No records found",this.filterBy="label",this.filterMode="lenient",this.trackBy=function(e,t){return t},this.onFilter=new t.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe((function(t){e.dragNodeTree=t.tree,e.dragNode=t.node,e.dragNodeSubNodes=t.subNodes,e.dragNodeIndex=t.index,e.dragNodeScope=t.scope})),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe((function(t){e.dragNodeTree=null,e.dragNode=null,e.dragNodeSubNodes=null,e.dragNodeIndex=null,e.dragNodeScope=null,e.dragHover=!1})))},e.prototype.ngOnChanges=function(e){e.value&&this.updateSerializedValue()},Object.defineProperty(e.prototype,"horizontal",{get:function(){return"horizontal"==this.layout},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.templates.length&&(this.templateMap={}),this.templates.forEach((function(t){e.templateMap[t.name]=t.template}))},e.prototype.updateSerializedValue=function(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)},e.prototype.serializeNodes=function(e,t,n,o){var r,i;if(t&&t.length)try{for(var l=s(t),a=l.next();!a.done;a=l.next()){var d=a.value;d.parent=e;var p={node:d,parent:e,level:n,visible:o&&(!e||e.expanded)};this.serializedValue.push(p),p.visible&&d.expanded&&this.serializeNodes(d,d.children,n+1,p.visible)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}},e.prototype.onNodeClick=function(e,t){var n=e.target;if(!l.DomHandler.hasClass(n,"p-tree-toggler")&&!l.DomHandler.hasClass(n,"p-tree-toggler-icon")){if(this.selectionMode){if(!1===t.selectable)return;if(this.hasFilteredNodes()&&!(t=this.getNodeWithKey(t.key,this.value)))return;var o=this.findIndexInSelection(t),r=o>=0;if(this.isCheckboxSelectionMode())r?(this.propagateSelectionDown?this.propagateDown(t,!1):this.selection=this.selection.filter((function(e,t){return t!=o})),this.propagateSelectionUp&&t.parent&&this.propagateUp(t.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.propagateSelectionDown?this.propagateDown(t,!0):this.selection=c(this.selection||[],[t]),this.propagateSelectionUp&&t.parent&&this.propagateUp(t.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:t}));else if(!this.nodeTouched&&this.metaKeySelection){var i=e.metaKey||e.ctrlKey;r&&i?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((function(e,t){return t!=o})),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.isSingleSelectionMode()?this.selectionChange.emit(t):this.isMultipleSelectionMode()&&(this.selection=i&&this.selection||[],this.selection=c(this.selection,[t]),this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:e,node:t}))}else this.isSingleSelectionMode()?r?(this.selection=null,this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.selection=t,this.onNodeSelect.emit({originalEvent:e,node:t})):r?(this.selection=this.selection.filter((function(e,t){return t!=o})),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.selection=c(this.selection||[],[t]),this.onNodeSelect.emit({originalEvent:e,node:t})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}},e.prototype.onNodeTouchEnd=function(){this.nodeTouched=!0},e.prototype.onNodeRightClick=function(e,t){if(this.contextMenu){var n=e.target;if(n.className&&0===n.className.indexOf("p-tree-toggler"))return;this.findIndexInSelection(t)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(t):this.selectionChange.emit([t])),this.contextMenu.show(e),this.onNodeContextMenuSelect.emit({originalEvent:e,node:t})}},e.prototype.findIndexInSelection=function(e){var t=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())t=this.selection.key&&this.selection.key===e.key||this.selection==e?0:-1;else for(var n=0;n<this.selection.length;n++){var o=this.selection[n];if(o.key&&o.key===e.key||o==e){t=n;break}}return t},e.prototype.syncNodeOption=function(e,t,n,o){var r=this.hasFilteredNodes()?this.getNodeWithKey(e.key,t):null;r&&(r[n]=o||e[n])},e.prototype.hasFilteredNodes=function(){return this.filter&&this.filteredNodes&&this.filteredNodes.length},e.prototype.getNodeWithKey=function(e,t){var n,o;try{for(var r=s(t),i=r.next();!i.done;i=r.next()){var l=i.value;if(l.key===e)return l;if(l.children){var a=this.getNodeWithKey(e,l.children);if(a)return a}}}catch(e){n={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}},e.prototype.propagateUp=function(e,t){var n,o;if(e.children&&e.children.length){var r=0,i=!1;try{for(var l=s(e.children),a=l.next();!a.done;a=l.next()){var d=a.value;this.isSelected(d)?r++:d.partialSelected&&(i=!0)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}if(t&&r==e.children.length)this.selection=c(this.selection||[],[e]),e.partialSelected=!1;else{if(!t){var p=this.findIndexInSelection(e);p>=0&&(this.selection=this.selection.filter((function(e,t){return t!=p})))}i||r>0&&r!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}this.syncNodeOption(e,this.filteredNodes,"partialSelected")}var h=e.parent;h&&this.propagateUp(h,t)},e.prototype.propagateDown=function(e,t){var n,o,r=this.findIndexInSelection(e);if(t&&-1==r?this.selection=c(this.selection||[],[e]):!t&&r>-1&&(this.selection=this.selection.filter((function(e,t){return t!=r}))),e.partialSelected=!1,this.syncNodeOption(e,this.filteredNodes,"partialSelected"),e.children&&e.children.length)try{for(var i=s(e.children),l=i.next();!l.done;l=i.next()){var a=l.value;this.propagateDown(a,t)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},e.prototype.isSelected=function(e){return-1!=this.findIndexInSelection(e)},e.prototype.isSingleSelectionMode=function(){return this.selectionMode&&"single"==this.selectionMode},e.prototype.isMultipleSelectionMode=function(){return this.selectionMode&&"multiple"==this.selectionMode},e.prototype.isCheckboxSelectionMode=function(){return this.selectionMode&&"checkbox"==this.selectionMode},e.prototype.isNodeLeaf=function(e){return 0!=e.leaf&&!(e.children&&e.children.length)},e.prototype.getRootNode=function(){return this.filteredNodes?this.filteredNodes:this.value},e.prototype.getTemplateForNode=function(e){return this.templateMap?e.type?this.templateMap[e.type]:this.templateMap.default:null},e.prototype.onDragOver=function(e){!this.droppableNodes||this.value&&0!==this.value.length||(e.dataTransfer.dropEffect="move",e.preventDefault())},e.prototype.onDrop=function(e){if(this.droppableNodes&&(!this.value||0===this.value.length)){e.preventDefault();var t=this.dragNode;if(this.allowDrop(t,null,this.dragNodeScope)){var n=this.dragNodeIndex;this.dragNodeSubNodes.splice(n,1),this.value=this.value||[],this.value.push(t),this.dragDropService.stopDrag({node:t})}}},e.prototype.onDragEnter=function(e){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)},e.prototype.onDragLeave=function(e){if(this.droppableNodes){var t=e.currentTarget.getBoundingClientRect();(e.x>t.left+t.width||e.x<t.left||e.y>t.top+t.height||e.y<t.top)&&(this.dragHover=!1)}},e.prototype.allowDrop=function(e,t,n){if(e){if(this.isValidDragScope(n)){var o=!0;if(t)if(e===t)o=!1;else for(var r=t.parent;null!=r;){if(r===e){o=!1;break}r=r.parent}return o}return!1}return!1},e.prototype.isValidDragScope=function(e){var t,n,o,r,i=this.droppableScope;if(i){if("string"==typeof i){if("string"==typeof e)return i===e;if(e instanceof Array)return-1!=e.indexOf(i)}else if(i instanceof Array){if("string"==typeof e)return-1!=i.indexOf(e);if(e instanceof Array)try{for(var l=s(i),a=l.next();!a.done;a=l.next()){var d=a.value;try{for(var p=(o=void 0,s(e)),c=p.next();!c.done;c=p.next()){if(d===c.value)return!0}}catch(e){o={error:e}}finally{try{c&&!c.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}}return!1}return!0},e.prototype._filter=function(e){var t,n,o=e.target.value;if(""===o)this.filteredNodes=null;else{this.filteredNodes=[];var r=this.filterBy.split(","),l=i.ObjectUtils.removeAccents(o).toLocaleLowerCase(this.filterLocale),a="strict"===this.filterMode;try{for(var p=s(this.value),c=p.next();!c.done;c=p.next()){var h=c.value,g=d({},h),u={searchFields:r,filterText:l,isStrictMode:a};(a&&(this.findFilteredNodes(g,u)||this.isFilterMatched(g,u))||!a&&(this.isFilterMatched(g,u)||this.findFilteredNodes(g,u)))&&this.filteredNodes.push(g)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}}this.updateSerializedValue(),this.onFilter.emit({filter:o,filteredValue:this.filteredNodes})},e.prototype.findFilteredNodes=function(e,t){var n,o;if(e){var r=!1;if(e.children){var i=c(e.children);e.children=[];try{for(var l=s(i),a=l.next();!a.done;a=l.next()){var p=a.value,h=d({},p);this.isFilterMatched(h,t)&&(r=!0,e.children.push(h))}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}}if(r)return e.expanded=!0,!0}},e.prototype.isFilterMatched=function(e,t){var n,o,r=t.searchFields,l=t.filterText,a=t.isStrictMode,d=!1;try{for(var p=s(r),c=p.next();!c.done;c=p.next()){var h=c.value;i.ObjectUtils.removeAccents(String(i.ObjectUtils.resolveFieldData(e,h))).toLocaleLowerCase(this.filterLocale).indexOf(l)>-1&&(d=!0)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}return(!d||a&&!this.isNodeLeaf(e))&&(d=this.findFilteredNodes(e,{searchFields:r,filterText:l,isStrictMode:a})||d),d},e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},e.prototype.ngOnDestroy=function(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()},e.ctorParameters=function(){return[{type:t.ElementRef},{type:r.TreeDragDropService,decorators:[{type:t.Optional}]}]},e.decorators=[{type:t.Component,args:[{selector:"p-tree",template:'\n        <div [ngClass]="{\'p-tree p-component\':true,\'p-tree-selectable\':selectionMode,\n                \'p-treenode-dragover\':dragHover,\'p-tree-loading\': loading, \'p-tree-flex-scrollable\': scrollHeight === \'flex\'}" \n            [ngStyle]="style" [class]="styleClass" *ngIf="!horizontal"\n            (drop)="onDrop($event)" (dragover)="onDragOver($event)" (dragenter)="onDragEnter($event)" (dragleave)="onDragLeave($event)">\n            <div class="p-tree-loading-overlay p-component-overlay" *ngIf="loading">\n                <i [class]="\'p-tree-loading-icon pi-spin \' + loadingIcon"></i>\n            </div>\n            <div *ngIf="filter" class="p-tree-filter-container">\n                <input #filter type="text" autocomplete="off" class="p-tree-filter p-inputtext p-component" [attr.placeholder]="filterPlaceholder"\n                    (keydown.enter)="$event.preventDefault()" (input)="_filter($event)">\n                    <span class="p-tree-filter-icon pi pi-search"></span>\n            </div>\n            <ng-container *ngIf="!virtualScroll; else virtualScrollList">\n                <div class="p-tree-wrapper" [style.max-height]="scrollHeight">\n                    <ul class="p-tree-container" *ngIf="getRootNode()" role="tree" [attr.aria-label]="ariaLabel" [attr.aria-labelledby]="ariaLabelledBy">\n                        <p-treeNode *ngFor="let node of getRootNode(); let firstChild=first;let lastChild=last; let index=index; trackBy: trackBy" [node]="node"\n                                    [firstChild]="firstChild" [lastChild]="lastChild" [index]="index" [level]="0"></p-treeNode>\n                    </ul>\n                </div>\n            </ng-container>\n            <ng-template #virtualScrollList>\n                <cdk-virtual-scroll-viewport class="p-tree-wrapper" [style.height]="scrollHeight" [itemSize]="virtualNodeHeight" [minBufferPx]="minBufferPx" [maxBufferPx]="maxBufferPx">\n                    <ul class="p-tree-container" *ngIf="getRootNode()" role="tree" [attr.aria-label]="ariaLabel" [attr.aria-labelledby]="ariaLabelledBy">\n                        <p-treeNode *cdkVirtualFor="let rowNode of serializedValue; let firstChild=first; let lastChild=last; let index=index; trackBy: trackBy"  [level]="rowNode.level"\n                                    [rowNode]="rowNode" [node]="rowNode.node" [firstChild]="firstChild" [lastChild]="lastChild" [index]="index" [style.height.px]="virtualNodeHeight"></p-treeNode>\n                    </ul>\n                </cdk-virtual-scroll-viewport>\n            </ng-template>\n            <div class="p-tree-empty-message" *ngIf="!loading && (value == null || value.length === 0)">{{emptyMessage}}</div>\n        </div>\n        <div [ngClass]="{\'p-tree p-tree-horizontal p-component\':true,\'p-tree-selectable\':selectionMode}"  [ngStyle]="style" [class]="styleClass" *ngIf="horizontal">\n            <div class="p-tree-loading-mask p-component-overlay" *ngIf="loading">\n                <i [class]="\'p-tree-loading-icon pi-spin \' + loadingIcon"></i>\n            </div>\n            <table *ngIf="value&&value[0]">\n                <p-treeNode [node]="value[0]" [root]="true"></p-treeNode>\n            </table>\n            <div class="p-tree-empty-message" *ngIf="!loading && (value == null || value.length === 0)">{{emptyMessage}}</div>\n        </div>\n    ',changeDetection:t.ChangeDetectionStrategy.Default,encapsulation:t.ViewEncapsulation.None,styles:[".p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:relative}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;height:100%;-ms-flex-direction:column;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{-ms-flex:1;flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal td,.p-tree.p-tree-horizontal tr{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(images/line.gif) center center repeat-x;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed,.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(images/line.gif) repeat-y;width:1px}.p-tree.p-tree-horizontal table{height:0}"]}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:r.TreeDragDropService,decorators:[{type:t.Optional}]}]},e.propDecorators={value:[{type:t.Input}],selectionMode:[{type:t.Input}],selection:[{type:t.Input}],selectionChange:[{type:t.Output}],onNodeSelect:[{type:t.Output}],onNodeUnselect:[{type:t.Output}],onNodeExpand:[{type:t.Output}],onNodeCollapse:[{type:t.Output}],onNodeContextMenuSelect:[{type:t.Output}],onNodeDrop:[{type:t.Output}],style:[{type:t.Input}],styleClass:[{type:t.Input}],contextMenu:[{type:t.Input}],layout:[{type:t.Input}],draggableScope:[{type:t.Input}],droppableScope:[{type:t.Input}],draggableNodes:[{type:t.Input}],droppableNodes:[{type:t.Input}],metaKeySelection:[{type:t.Input}],propagateSelectionUp:[{type:t.Input}],propagateSelectionDown:[{type:t.Input}],loading:[{type:t.Input}],loadingIcon:[{type:t.Input}],emptyMessage:[{type:t.Input}],ariaLabel:[{type:t.Input}],ariaLabelledBy:[{type:t.Input}],validateDrop:[{type:t.Input}],filter:[{type:t.Input}],filterBy:[{type:t.Input}],filterMode:[{type:t.Input}],filterPlaceholder:[{type:t.Input}],filterLocale:[{type:t.Input}],scrollHeight:[{type:t.Input}],virtualScroll:[{type:t.Input}],virtualNodeHeight:[{type:t.Input}],minBufferPx:[{type:t.Input}],maxBufferPx:[{type:t.Input}],trackBy:[{type:t.Input}],onFilter:[{type:t.Output}],templates:[{type:t.ContentChildren,args:[r.PrimeTemplate]}]},e}(),u=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[o.CommonModule,n.ScrollingModule,a.RippleModule],exports:[g,r.SharedModule,n.ScrollingModule],declarations:[g,h]}]}],e}();e.Tree=g,e.TreeModule=u,e.UITreeNode=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=primeng-tree.umd.min.js.map